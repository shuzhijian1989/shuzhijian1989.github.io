import"./vue.a2f518ee.js";import{_ as e,u as t,m as a,o as l}from"./index.7061e8ea.js";import{a as n,s as d}from"./schoolRoll.370ea454.js";import{E as s,a as i,b as o}from"./element-plus.8ba44712.js";import{y as r,q as u,w as c,b8 as m,o as p,a2 as h,a3 as v,c as f,b as x,a as b,F as y,a8 as g,a4 as _,a7 as k,aK as w,O as I,a9 as j,b5 as C,b4 as S,e as P,r as F,G as D,f as q,u as N,a6 as L}from"./@vue.919ff404.js";import"./@babel.6d5f88cb.js";import"./ant-design-vue.db4d48e3.js";import"./resize-observer-polyfill.f664b406.js";import"./vue-types.022beab3.js";import"./@ant-design.2e172c39.js";import"./@ctrl.c020ccd3.js";import"./dom-align.0991ecc5.js";import"./lodash-es.36dcd19c.js";import"./dayjs.49e29cb2.js";import"./async-validator.267d9719.js";import"./scroll-into-view-if-needed.61c672a4.js";import"./compute-scroll-into-view.17358474.js";/* empty css                    */import"./secure-ls.8c8acb46.js";import"./vue-router.907b547c.js";import"./nprogress.c2257662.js";import"./axios.7aed06b8.js";import"./qs.e55e9b28.js";import"./side-channel.ea627785.js";import"./get-intrinsic.8c87d952.js";import"./has-symbols.caae0f97.js";import"./has-proto.76cff6c7.js";import"./function-bind.cb3858f2.js";import"./has.c1051c46.js";import"./call-bind.208b5ef0.js";import"./object-inspect.e2cfb4a5.js";import"./vuex.f308ecec.js";import"./vuex-persistedstate.fa252374.js";import"./vue-grid-layout.a3ef67ec.js";import"./@vueuse.66569c4a.js";import"./@element-plus.8b57b6bd.js";const R=(e=>(C("data-v-0b913d9d"),e=e(),S(),e))((()=>x("span",null,"查看",-1))),A={class:"cell-item"},U={key:1};var O=e({__name:"studentInfo",props:{studentDetailPrarms:{type:Object,default:()=>{}},threeLevelLinkage:{type:Array,default:()=>[]}},emits:["handerStudentMain"],setup(e,{emit:a}){const l=e,n=t();let d=localStorage.getItem("dictionary");d&&(d=JSON.parse(d));const C=r((()=>1===n.state.base.commentJsonKeys.schoolType)),S=u({informations:[{title:"基础信息",key:"basic",children:[{text:"头像",value:"avatar",sapn:3},{text:"姓名",value:"name"},{text:"班级",value:"className"},{text:"学籍号",value:"studentCode"},{text:"学生手机",value:"phone"},{text:"性别",value:"gender",dict:"gender"},{text:"入学日期",value:"admissionDate"},{text:"学籍状态",value:"status",dict:"roll_status"},{text:"学号",value:"studentNo"},{text:"卡号",value:"icCardNo"},{text:"学历",value:"education",show:C,dict:"student_education_status"},{text:"学制",value:"academicSystem",show:C,dict:"student_academic_system_status"},{text:"第二学位",value:"secondDegree",show:C,dict:"student_second_degree_status"}]},{title:"学生扩展信息",key:"student",children:[{text:"住宿方式",value:"accommodation",dict:"accommodation"},{text:"是否独生子女",value:"isChild"},{text:"电子信箱",value:"email"},{text:"证件类型",value:"idType",dict:"id_type"},{text:"证件号码",value:"idCard"},{text:"民族",value:"nation",dict:"nation"},{text:"政治面貌",value:"politicalStatus",dict:"political_status"},{text:"出生日期",value:"birthday"},{text:"出生地",value:"birthPlace"},{text:"国籍",value:"country",dict:"country"},{text:"籍贯",value:"nativePlaces"},{text:"是否流动人口",value:"isFlow"},{text:"户口类别",value:"householdType",dict:"household_type"},{text:"户口所在地",value:"householdAddress"},{text:"血型",value:"bloodType",dict:"blood_type"},{text:"健康状态",value:"healthStatus",dict:"health_status"},{text:"个人疾病情况",value:"personalIllness"},{text:"个人特长",value:"specialty"},{text:"家庭住址",value:"address",sapn:3},{text:"备注",value:"remarks",sapn:3}]}]}),P=u({title:"家长信息",key:"parent",children:[{text:"家长姓名",value:"name"},{text:"家长手机号",value:"phone"},{text:"家庭关系",value:"relations"}]}),F=()=>{a("handerStudentMain",!0)},D=r((()=>e=>{const t=l.studentDetailPrarms,{value:a,dict:n}=e;return t[a]||0===t[a]?n?d[`${n}${t[a]}`]:"isChild"===a||"householdType"===a||"isFlow"===a?t[a]?"是":"否":t[a]:"-"}));return c((()=>l.studentDetailPrarms),(e=>{var t;(null==(t=e.elterns)?void 0:t.length)&&(S.informations=[...S.informations,P],S.informations[2].children=[],e.elterns.forEach((e=>{S.informations[2].children.push({text:"家长姓名",value:e.name},{text:"家长手机号",value:e.phone},{text:"家庭关系",value:d[`relations${e.relations}`]})})))}),{immediate:!0}),(t,a)=>{const l=m("a-layout-header"),n=s,d=i,r=m("a-cascader"),u=o,c=m("a-layout-content"),C=m("a-layout");return p(),h(C,{class:"yd-layout"},{default:v((()=>[f(l,{class:"yd-layout-header"},{default:v((()=>[x("i",{class:"iconfont icon-xingzhuangjiehe19",onClick:F}),R])),_:1}),f(c,{class:"yd-layout-content set-student"},{default:v((()=>[(p(!0),b(y,null,g(S.informations,((t,a)=>(p(),h(u,{key:a,title:t.title,class:_(["yd-descriptions",{parent_style:"parent"===t.key}])},{default:v((()=>[k(" 家长 "),"parent"===t.key?(p(!0),b(y,{key:0},g(t.children,((e,a)=>(p(),h(n,{key:a,label:`${e.text}：`,span:e.sapn},w({default:v((()=>[I(" "+j(e.value||"-"),1)])),_:2},["parent"===t.key?{name:"label",fn:v((()=>[x("div",A,j(e.text)+"：",1)])),key:"0"}:void 0]),1032,["label","span"])))),128)):(p(!0),b(y,{key:1},g(t.children,((t,a)=>(p(),b(y,null,[t.show?k("v-if",!0):(p(),h(n,{key:a,label:`${t.text}：`,span:t.sapn},{default:v((()=>["avatar"===t.value?(p(),h(d,{key:0,class:"yd-faceImg",src:e.studentDetailPrarms[t.value]||"/image/defal_user.png",fit:"fill"},null,8,["src"])):"nativePlaces"===t.value?(p(),b(y,{key:1},[k(" 籍贯 "),e.studentDetailPrarms[t.value]&&e.studentDetailPrarms[t.value].length?(p(),h(r,{key:0,class:"form-select",bordered:!1,disabled:"",value:e.studentDetailPrarms[t.value],"onUpdate:value":a=>e.studentDetailPrarms[t.value]=a,fieldNames:{label:"name",value:"id",children:"area"},options:e.threeLevelLinkage},null,8,["value","onUpdate:value","options"])):(p(),b("span",U,"-"))],64)):(p(),b(y,{key:2},[I(j(D.value(t)),1)],64))])),_:2},1032,["label","span"]))],64)))),256))])),_:2},1032,["title","class"])))),128))])),_:1})])),_:1})}}},[["__scopeId","data-v-0b913d9d"],["__file","C:/Users/66406/Desktop/ydproject/cloudSystem3.0/cloud-system-2.0/src/views/teachManager/page/teStudentn/teStudentnAdmin/studentInfo.vue"]]);const T=e=>(C("data-v-31540166"),e=e(),S(),e),z={key:0,class:"teStudentnAdmin"},M=T((()=>x("div",{class:"teStudentnAdmin_head"},"学生管理",-1))),E={class:"studentManage"},$={class:"head_operation"},J={class:"table_student"},V=T((()=>x("span",null,j("操作"),-1))),W={key:0},K={key:1},G=P({name:"teStudentnAdmin"});var H=e(Object.assign(G,{setup(e){let t=localStorage.getItem("dictionary");t&&(t=JSON.parse(t));let s=F([]);(async()=>{const{data:e=[]}=await n();s.value=e})();const i=F(),o=F([{title:"序号",dataIndex:"seq",width:130,forbidden:!0,show:!0},{title:"姓名",dataIndex:"name",width:130,forbidden:!0,show:!0},{title:"性别",dataIndex:"gender",width:130,forbidden:!0,show:!0,customRender:({text:e})=>null===e?"未知":0===e?"男":"女"},{title:"学生手机号",dataIndex:"phone",width:130},{title:"入学日期",dataIndex:"admissionDate",width:130},{title:"学籍号",dataIndex:"studentCode",width:130,forbidden:!0,show:!0},{title:"学号",dataIndex:"studentNo",width:130},{title:"卡号",dataIndex:"icCardNo",width:130,forbidden:!0,show:!0},{title:"学籍状态",dataIndex:"status",width:130,forbidden:!0,show:!0,customRender:({text:e,record:a,index:l,column:n})=>{if(null===e)return"";return t.roll_status.find((t=>t.value==e)).label}},{title:"家长信息",dataIndex:"parents",width:130,forbidden:!0,show:!0,customRender:({text:e})=>{if(null==e&&0===e.length)return"";return e.map((e=>e.name)).join(",")}},{title:"住宿方式",dataIndex:"accommodation",width:130,customRender:({text:e,record:a,index:l,column:n})=>{if(null===e)return"";return t.accommodation.find((t=>t.value==e)).label}},{title:"是否独生子女",dataIndex:"isChild",width:130,customRender:({text:e})=>null===e?"":0===e?"否":"是"},{title:"电子邮箱",dataIndex:"email",width:130},{title:"证件类型",dataIndex:"idType",width:130,customRender:({text:e,record:a,index:l,column:n})=>{if(null===e)return"";return t.id_type.find((t=>t.value==e)).label}},{title:"证件号码",dataIndex:"idCard",width:130},{title:"民族",dataIndex:"nation",width:130,customRender:({text:e,record:a,index:l,column:n})=>{if(null===e)return"";return t.nation.find((t=>t.value==e)).label}},{title:"政治面貌",dataIndex:"politicalStatus",width:130,customRender:({text:e,record:a,index:l,column:n})=>{if(null===e)return"";return t.political_status.find((t=>t.value==e)).label}},{title:"出生日期",dataIndex:"birthday",width:130},{title:"出生地",dataIndex:"birthPlace",width:130},{title:"国籍",dataIndex:"country",width:130,customRender:({text:e,record:a,index:l,column:n})=>{if(null===e)return"";return t.country.find((t=>t.value==e)).label}},{title:"籍贯",dataIndex:"nativePlace",width:130},{title:"是否流动人口",dataIndex:"isFlow",width:130,customRender:({text:e,record:t,index:a,column:l})=>null===e?"":1===e?"是":"否"},{title:"户口类型",dataIndex:"householdType",width:130,customRender:({text:e,record:a,index:l,column:n})=>{if(null===e)return"";return t.household_type.find((t=>t.value==e)).label}},{title:"户口所在地",dataIndex:"householdAddress",width:130},{title:"血型",dataIndex:"bloodType",width:130,customRender:({text:e,record:a,index:l,column:n})=>{if(null===e)return"";return t.blood_type.find((t=>t.value==e)).label}},{title:"健康状态",dataIndex:"healthStatus",width:130,customRender:({text:e,record:a,index:l,column:n})=>{if(null===e)return"";return t.health_status.find((t=>t.value==e)).label}},{title:"个人疾病情况",dataIndex:"personalIllness",width:130},{title:"特长",dataIndex:"specialty",width:130},{title:"家庭住址",dataIndex:"address",width:130},{title:"备注",width:130,dataIndex:"remarks"},{title:"操作",dataIndex:"operate",forbidden:!0,show:!0,fixed:"right",align:"left",width:130}]),r=u({studentDetail:{},studentMain:!0,checkAll:!1,transferVisible:!1,studentList:[],inquireForm:{gender:""},pagination:{pageNo:1,pageSize:10}}),c=F({current:1,pageSize:10,total:0,hideOnSinglePage:!0,showLessItems:!0,showQuickJumper:!0,showSizeChanger:!0,pageSizeOptions:["10","20","30","40"],showTotal:e=>`共 ${e}  条`}),_=async()=>{var e;const{data:t}=await l({pageNo:c.value.current,pageSize:c.value.pageSize,...r.inquireForm});null==(e=null==t?void 0:t.list)||e.forEach((e=>{e.nativePlace&&(e.nativePlace=JSON.parse(e.nativePlace))})),r.studentList=t.list,c.value.total=t.total},w=({current:e,pageSize:t})=>{c.value.current=e,c.value.pageSize=t,_()},C=()=>{0===r.checkedList.length&&(r.columns=o.value.filter((e=>e.forbidden))),o.value.forEach((e=>{r.checkedList.forEach((t=>{e.dataIndex===t.dataIndex?(e.show=!0,e.old=!0):e.forbidden||e.old||(e.show=!1)}))})),o.value.forEach((e=>{e.old=!1})),r.transferVisible=!1},S=()=>{r.transferVisible=!0,r.checkedList=r.columns};D((()=>{r.columns=o.value.filter((e=>e.show))}));const P=e=>{r.checkAll?r.checkedList=o.value.filter((e=>!e.forbidden)):r.checkedList=[]},R=()=>{_()},A=()=>{c.value.current=1,c.value.pageSize=10,i.value.resetFields(),r.inquireForm.classesId=r.classesListOptions[0].classesId,_()},U=e=>{var t;r.studentDetail={},r.studentTitle="查看学生",r.studentDetailsId=e.id,r.componentName=O,!(t=e.id)&&(t=r.studentDetailsId),d({id:t}).then((e=>{const{data:t}=e;r.studentDetail=t})),r.studentMain=!1},T=e=>{r.studentMain=e};return q((()=>{(async()=>{const{data:e}=await a();r.classesListOptions=e,r.inquireForm.classesId=e[0].classesId,_()})()})),(e,t)=>{const a=m("a-input"),l=m("a-form-item"),n=m("a-select-option"),d=m("a-select"),u=m("SearchOutlined"),_=m("a-button"),F=m("redo-outlined"),D=m("a-form"),q=m("a-cascader"),O=m("a-table"),G=m("a-checkbox"),H=m("a-col"),Q=m("a-row"),B=m("a-checkbox-group"),X=m("a-modal");return N(r).studentMain?(p(),b("div",z,[M,x("div",E,[x("div",$,[f(D,{layout:"inline",model:N(r).inquireForm,ref_key:"inquireFormRef",ref:i},{default:v((()=>[f(l,{label:"姓名",name:"name"},{default:v((()=>[f(a,{class:"adaptWidth",value:N(r).inquireForm.name,"onUpdate:value":t[0]||(t[0]=e=>N(r).inquireForm.name=e),placeholder:"请输入"},null,8,["value"])])),_:1}),f(l,{label:"学籍号",name:"studentCode"},{default:v((()=>[f(a,{class:"adaptWidth",value:N(r).inquireForm.studentCode,"onUpdate:value":t[1]||(t[1]=e=>N(r).inquireForm.studentCode=e),placeholder:"请输入"},null,8,["value"])])),_:1}),f(l,{label:"卡号",name:"icCardNo"},{default:v((()=>[f(a,{class:"adaptWidth",value:N(r).inquireForm.icCardNo,"onUpdate:value":t[2]||(t[2]=e=>N(r).inquireForm.icCardNo=e),placeholder:"请输入"},null,8,["value"])])),_:1}),f(l,{label:"性别",name:"gender"},{default:v((()=>[f(d,{value:N(r).inquireForm.gender,"onUpdate:value":t[3]||(t[3]=e=>N(r).inquireForm.gender=e),class:"adaptWidth"},{default:v((()=>[f(n,{value:""},{default:v((()=>[I("全部")])),_:1}),f(n,{value:"0"},{default:v((()=>[I("男")])),_:1}),f(n,{value:"1"},{default:v((()=>[I("女")])),_:1})])),_:1},8,["value"])])),_:1}),f(l,{label:"班级",name:"classesId"},{default:v((()=>[f(d,{fieldNames:{label:"classesName",value:"classesId"},value:N(r).inquireForm.classesId,"onUpdate:value":t[4]||(t[4]=e=>N(r).inquireForm.classesId=e),options:N(r).classesListOptions,class:"adaptWidth"},null,8,["value","options"])])),_:1}),f(l,null,{default:v((()=>[f(_,{type:"primary",onClick:R},{icon:v((()=>[f(u,{style:{"margin-right":"6px"}})])),default:v((()=>[I(" 查询 ")])),_:1}),f(_,{style:{"margin-left":"10px"},onClick:A},{icon:v((()=>[f(F,{style:{"margin-right":"6px"}})])),default:v((()=>[I(" 重置 ")])),_:1})])),_:1})])),_:1},8,["model"])]),k(' <div class="btn_list">\r\n            <a-button>邀请学生</a-button>\r\n            <a-button disabled>添加学生</a-button>\r\n            <a-button disabled>快捷操作</a-button>\r\n            <a-button disabled>导入导出</a-button>\r\n            <a-button disabled>删除</a-button>\r\n        </div> '),x("div",J,[f(O,{columns:N(r).columns,"data-source":N(r).studentList,pagination:N(c),onChange:w,scroll:{x:1200}},{headerCell:v((({column:e,record:t,text:a,index:l})=>["operate"===e.dataIndex?(p(),b(y,{key:0},[V,x("i",{onClick:S,class:"iconfont pathColor icon-xingzhuangjiehe110"})],64)):k("v-if",!0)])),bodyCell:v((({column:e,record:t,text:a,index:l})=>["seq"===e.dataIndex?(p(),b("span",W,j(l+1),1)):k("v-if",!0),"nativePlace"===e.dataIndex?(p(),b(y,{key:1},[t.nativePlace?(p(),h(q,{key:0,class:"form-select",bordered:!1,disabled:"",value:t.nativePlace,"onUpdate:value":e=>t.nativePlace=e,fieldNames:{label:"name",value:"id",children:"area"},options:N(s)},null,8,["value","onUpdate:value","options"])):(p(),b("span",K,"-"))],64)):k("v-if",!0),"operate"===e.dataIndex?(p(),h(_,{key:2,onClick:e=>U(t),type:"text",class:"btn_look"},{default:v((()=>[I("查看")])),_:2},1032,["onClick"])):k("v-if",!0)])),_:1},8,["columns","data-source","pagination"])])]),f(X,{visible:N(r).transferVisible,"onUpdate:visible":t[7]||(t[7]=e=>N(r).transferVisible=e),title:"选择列表中要展示的信息",onOk:C},{default:v((()=>[k(' :indeterminate="state.indeterminate" '),f(G,{class:"checkAll",checked:N(r).checkAll,"onUpdate:checked":t[5]||(t[5]=e=>N(r).checkAll=e),onChange:P},{default:v((()=>[I(j(N(r).checkAll?"全不选":"全选"),1)])),_:1},8,["checked"]),f(B,{value:N(r).checkedList,"onUpdate:value":t[6]||(t[6]=e=>N(r).checkedList=e),style:{width:"100%"},onChange:e.handerChange},{default:v((()=>[f(Q,{gutter:[16,16]},{default:v((()=>[(p(!0),b(y,null,g(N(o).filter((e=>!e.forbidden)),(e=>(p(),h(H,{key:e.dataIndex,span:8},{default:v((()=>[f(G,{value:e},{default:v((()=>[I(j(e.title),1)])),_:2},1032,["value"])])),_:2},1024)))),128))])),_:1})])),_:1},8,["value","onChange"])])),_:1},8,["visible"])])):(p(),h(L(N(r).componentName),{key:1,ref:"studentFormRef",studentTitle:N(r).studentTitle,isCheck:N(r).isCheck,studentDetailPrarms:N(r).studentDetail,onHanderStudentMain:T},null,40,["studentTitle","isCheck","studentDetailPrarms"]))}}}),[["__scopeId","data-v-31540166"],["__file","C:/Users/66406/Desktop/ydproject/cloudSystem3.0/cloud-system-2.0/src/views/teachManager/page/teStudentn/teStudentnAdmin/index.vue"]]);export{H as default};

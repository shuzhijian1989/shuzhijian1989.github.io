import"./vue.a2f518ee.js";import{u as a}from"./vue-router.907b547c.js";import{_ as t,s as e}from"./index.7061e8ea.js";import{M as s}from"./ant-design-vue.db4d48e3.js";import{q as i,r as o,b8 as l,I as n,o as c,a as d,c as r,a3 as u,b as p,H as m,a2 as f,O as v,a7 as y,a9 as g,a4 as b,F as j,a8 as h,a5 as k,u as E,b5 as _,b4 as x}from"./@vue.919ff404.js";import{E as C}from"./@ant-design.2e172c39.js";import"./@babel.6d5f88cb.js";/* empty css                    */import"./secure-ls.8c8acb46.js";import"./nprogress.c2257662.js";import"./axios.7aed06b8.js";import"./dayjs.49e29cb2.js";import"./qs.e55e9b28.js";import"./side-channel.ea627785.js";import"./get-intrinsic.8c87d952.js";import"./has-symbols.caae0f97.js";import"./has-proto.76cff6c7.js";import"./function-bind.cb3858f2.js";import"./has.c1051c46.js";import"./call-bind.208b5ef0.js";import"./object-inspect.e2cfb4a5.js";import"./vuex.f308ecec.js";import"./vuex-persistedstate.fa252374.js";import"./vue-grid-layout.a3ef67ec.js";import"./resize-observer-polyfill.f664b406.js";import"./vue-types.022beab3.js";import"./@ctrl.c020ccd3.js";import"./dom-align.0991ecc5.js";import"./lodash-es.36dcd19c.js";import"./async-validator.267d9719.js";import"./scroll-into-view-if-needed.61c672a4.js";import"./compute-scroll-into-view.17358474.js";const S=a=>(_("data-v-20728880"),a=a(),x(),a),I={class:"classInfo"},w=S((()=>p("span",null,"重 置",-1))),z=S((()=>p("span",null,"新增评比活动",-1))),T={class:"table"},U={key:0},D={key:1},M={key:2},N={key:3,class:"action"},q={key:0,class:"pagination"};var A=t({__name:"index",setup(t){const _=i({pageNo:1,pageSize:10,type:1}),x=i({total:50,pageSizeOptions:[10,20,50]}),S=a=>{_.pageNo=a,R()},A=(a,t)=>{_.pageNo=1,_.pageSize=t},O=a(),$=o([]),B=()=>{_.pageNo=1,R()},F=()=>{_.pageNo=1,_.status=null,_.title="",R()},H=a=>{_.pageNo=1,R()},L=o([{title:"德育评比标题",dataIndex:"title",key:"title",ellipsis:!0},{title:"评价活动简介",dataIndex:"description",key:"description",ellipsis:!0},{title:"活动时间",dataIndex:"activityTime",key:"activityTime",width:"220px"},{title:"活动状态",dataIndex:"statusTranslate",key:"statusTranslate",width:"120px"},{title:"操作",dataIndex:"action",key:"action",width:"220px"}]),R=()=>{e.post("/cloud/moralEducationActivity/page",_).then((a=>{$.value=a.data.list,x.total=a.data.total}))};R();const Y=()=>{e.get("/cloud/moralEducationActivity/querySchoolSemesterYear").then((a=>{O.push("/appModel/moralEducationEvaluation/classInfoEdit?type=edit")}))};return(a,t)=>{const i=l("a-input"),o=l("a-form-item"),O=l("SearchOutlined"),G=l("a-button"),J=l("reload-outlined"),K=l("plus-outlined"),P=l("a-form"),Q=l("a-radio"),V=l("a-col"),W=l("a-radio-group"),X=l("a-row"),Z=l("caret-right-outlined"),aa=l("a-popover"),ta=l("a-tag"),ea=l("a-table"),sa=l("a-pagination"),ia=n("auth2");return c(),d("div",I,[r(P,{layout:"inline"},{default:u((()=>[r(o,{label:"名称: "},{default:u((()=>[r(i,{value:_.title,"onUpdate:value":t[0]||(t[0]=a=>_.title=a),style:{width:"240px"},placeholder:"请输入德育评价活动名称"},null,8,["value"])])),_:1}),r(o,{label:""},{default:u((()=>[r(G,{type:"primary"},{icon:u((()=>[r(O)])),default:u((()=>[p("span",{onClick:B},"查 询")])),_:1}),r(G,{onClick:F},{icon:u((()=>[r(J)])),default:u((()=>[w])),_:1})])),_:1}),m((c(),f(o,{label:"",style:{flex:"1","text-align":"end"}},{default:u((()=>[r(G,{type:"primary",onClick:Y},{icon:u((()=>[r(K)])),default:u((()=>[z])),_:1})])),_:1})),[[ia,"moralEducationEvaluationAdd"]])])),_:1}),p("div",T,[r(ea,{columns:E(L),"data-source":E($),pagination:!1},{headerCell:u((({column:a})=>["statusTranslate"===a.key?(c(),f(aa,{key:0,title:"",placement:"right"},{content:u((()=>[r(X,null,{default:u((()=>[r(W,{value:_.status,"onUpdate:value":t[1]||(t[1]=a=>_.status=a),onChange:H},{default:u((()=>[r(V,{span:24},{default:u((()=>[r(Q,{value:1},{default:u((()=>[v("未开始")])),_:1})])),_:1}),r(V,{span:24},{default:u((()=>[r(Q,{value:2},{default:u((()=>[v("进行中")])),_:1})])),_:1}),r(V,{span:24},{default:u((()=>[r(Q,{value:3},{default:u((()=>[v("已结束")])),_:1})])),_:1})])),_:1},8,["value"])])),_:1})])),default:u((()=>[p("span",null,[v(" 活动状态 "),r(Z)])])),_:1})):y("v-if",!0)])),bodyCell:u((({column:a,record:t})=>["name"===a.key?(c(),d("a",U,g(t.name),1)):y("v-if",!0),"statusTranslate"===a.key?(c(),d("span",D,[p("b",{class:b(["statusTranslate","statusTranslate"+t.status])},null,2),v(" "+g(t.statusTranslate)+" ",1),y(" 1-未开始 2-进行中 3-已结束 ")])):"tags"===a.key?(c(),d("span",M,[(c(!0),d(j,null,h(t.tags,(a=>(c(),f(ta,{key:a,color:"loser"===a?"volcano":a.length>5?"geekblue":"green"},{default:u((()=>[v(g(a.toUpperCase()),1)])),_:2},1032,["color"])))),128))])):"action"===a.key?(c(),d("div",N,[m((c(),f(G,{type:"link",class:"actionBtn",href:`/#/appModel/moralEducationEvaluation/classInfoEdit/activity?id=${t.id}`},{default:u((()=>[v("查看")])),_:2},1032,["href"])),[[ia,"moralEducationEvaluationLook"]]),m((c(),f(G,{type:"link",class:"actionBtn",href:`/#/appModel/moralEducationEvaluation/activityDetails/activityDetailsCom?id=${t.id}&title=${encodeURIComponent(t.title)}`},{default:u((()=>[v("活动详情")])),_:2},1032,["href"])),[[ia,"moralEducationEvaluationEventDetails"]]),m((c(),f(G,{type:"link",class:"actionBtn",style:k({color:1!=t.status?"#ccc":"#00b781"}),disabled:1!=t.status,href:`/#/appModel/moralEducationEvaluation/classInfoEdit/activity?id=${t.id}&type=edit`},{default:u((()=>[v("编辑")])),_:2},1032,["style","disabled","href"])),[[ia,"moralEducationEvaluationEdit"]]),m((c(),f(G,{type:"text",danger:"",style:k({color:3==t.status?"#ccc":"#F5222D"}),disabled:3==t.status,onClick:a=>{return i=t,void s.confirm({title:"删除提示",icon:r(C),content:"是否确认删除此条信息?",okText:"确认",cancelText:"取消",onOk(){e.post("/cloud/moralEducationActivity/delete",[i.id]).then((a=>{R()}))}});var i}},{default:u((()=>[v("删除")])),_:2},1032,["style","disabled","onClick"])),[[ia,"moralEducationEvaluationDel"]])])):y("v-if",!0)])),_:1},8,["columns","data-source"]),E($).length>0?(c(),d("div",q,[r(sa,{current:x.current,"onUpdate:current":t[2]||(t[2]=a=>x.current=a),pageSize:_.pageSize,"onUpdate:pageSize":t[3]||(t[3]=a=>_.pageSize=a),"show-size-changer":!0,total:x.total,"show-quick-jumper":"",onChange:S,onShowSizeChange:A},null,8,["current","pageSize","total"])])):y("v-if",!0)])])}}},[["__scopeId","data-v-20728880"],["__file","C:/Users/66406/Desktop/ydproject/cloudSystem3.0/cloud-system-2.0/src/views/appModel/moralEducationEvaluation/classInfo/index.vue"]]);export{A as default};

import"./vue.a2f518ee.js";import{b as e}from"./qrcode.f5521435.js";/* empty css                                                          */import{_ as s,ac as a,ad as t}from"./index.7061e8ea.js";import{Q as l,w as o,o as i,a as d,q as n,b8 as r,a2 as p,a3 as u,b as c,a9 as m,c as v,u as f,O as _,F as y,a8 as b,b5 as k,b4 as C}from"./@vue.919ff404.js";import{e as x,a as F,s as g}from"./workers.a8ab8099.js";import{m as j}from"./ant-design-vue.db4d48e3.js";var N=s({__name:"index",props:{value:{type:String,default:""}},setup(s,{expose:a}){const t=s,n=l();return o((()=>t.value),((s,a)=>{(s||a)&&(()=>{const{value:s}=t;e.toCanvas(n.value,s)})()})),a({qrcodeRef:n}),(e,s)=>(i(),d("canvas",{ref_key:"qrcodeRef",ref:n,class:"code_img"},null,512))}},[["__scopeId","data-v-5047c928"],["__file","C:/Users/66406/Desktop/ydproject/cloudSystem3.0/cloud-system-2.0/src/components/QRCodeGenerator/index.vue"]]);const I=e=>(k("data-v-42c1275a"),e=e(),C(),e),S=I((()=>c("div",{class:"head"},"分享二维码邀请加入",-1))),q={class:"content"},U={class:"codebox"},V={class:"user_name"},h={class:"title"},R={class:"btns"},w={class:"footer"},D=I((()=>c("label",{class:"lifespan"}," 设置邀请有效期： ",-1)));var O=s({__name:"index",props:{modalVisible:{type:Boolean,default:!1},deptId:{type:String,default:"false"},getUrl:{type:String,default:""}},emits:["update:modalVisible"],setup(e,{emit:s}){const k=e,C=l(),I=n({lifespan:7,lifespans:[{key:3,value:"3天"},{key:7,value:"7天"},{key:30,value:"30天"},{key:90,value:"90天"}],inviteForm:{id:"",type:0,url:"",personName:"",deptClassesName:""}}),O=e=>{M()},Q=()=>{s("update:modalVisible",!1)},B=()=>{a(C.value.qrcodeRef,`${I.inviteForm.deptClassesName}.png`)},G=()=>{t(I.inviteForm.url),j.success("已复制链接")},M=()=>{const e={id:k.deptId,day:I.lifespan};x(e)};return o((()=>k.modalVisible),(e=>{e&&(I.lifespan=7,(()=>{const{deptId:e,getUrl:s}=k;let a=F;"classesId"===s&&(a=g),a({[s]:e}).then((({data:e})=>{const{url:s,type:a,personName:t,deptClassesName:l}=e;I.inviteForm.url=s,I.inviteForm.type=a,I.inviteForm.personName=t,I.inviteForm.deptClassesName=l}))})())})),(e,s)=>{const a=r("a-button"),t=r("a-select-option"),l=r("a-select"),o=r("a-modal");return i(),p(o,{visible:k.modalVisible,"onUpdate:visible":s[1]||(s[1]=e=>k.modalVisible=e),title:"邀请成员",footer:"",width:408,class:"invite_members",bodyStyle:{padding:"24px"},onCancel:Q,onOk:s[2]||(s[2]=e=>{Q()})},{default:u((()=>[S,c("div",q,[c("div",U,[c("div",V,m(I.inviteForm.personName)+" 邀请你加入 ",1),c("div",h,m(I.inviteForm.deptClassesName),1),v(f(N),{ref_key:"qrcodeRef",ref:C,value:I.inviteForm.url},null,8,["value"])]),c("div",R,[v(a,{type:"link",onClick:B},{default:u((()=>[_(" 下载二维码 ")])),_:1}),v(a,{type:"link",onClick:G},{default:u((()=>[_(" 复制链接 ")])),_:1})])]),c("div",w,[D,v(l,{value:I.lifespan,"onUpdate:value":s[0]||(s[0]=e=>I.lifespan=e),style:{width:"100%"},placeholder:"请选择有效期",onSelect:O},{default:u((()=>[(i(!0),d(y,null,b(I.lifespans,(e=>(i(),p(t,{key:e.key,value:e.key},{default:u((()=>[_(m(e.value),1)])),_:2},1032,["value"])))),128))])),_:1},8,["value"])])])),_:1},8,["visible"])}}},[["__scopeId","data-v-42c1275a"],["__file","C:/Users/66406/Desktop/ydproject/cloudSystem3.0/cloud-system-2.0/src/components/InviteMembers/index.vue"]]);export{O as I};

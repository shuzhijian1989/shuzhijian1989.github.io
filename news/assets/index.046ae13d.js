import"./vue.a2f518ee.js";import{_ as e,u as t,L as a,ab as l}from"./index.7061e8ea.js";import{E as n,a as s,b as d}from"./element-plus.8ba44712.js";import{y as i,q as o,w as r,b8 as u,o as c,a2 as m,a3 as p,c as v,b as h,a as f,F as x,a8 as b,a4 as y,a7 as g,aK as _,O as k,a9 as I,b5 as j,b4 as w,e as C,r as S,G as D,f as P,u as F,a6 as q}from"./@vue.919ff404.js";import{a as L,s as R}from"./schoolRoll.370ea454.js";import{I as N}from"./index.164d91f7.js";import"./@babel.6d5f88cb.js";import"./ant-design-vue.db4d48e3.js";import"./resize-observer-polyfill.f664b406.js";import"./vue-types.022beab3.js";import"./@ant-design.2e172c39.js";import"./@ctrl.c020ccd3.js";import"./dom-align.0991ecc5.js";import"./lodash-es.36dcd19c.js";import"./dayjs.49e29cb2.js";import"./async-validator.267d9719.js";import"./scroll-into-view-if-needed.61c672a4.js";import"./compute-scroll-into-view.17358474.js";/* empty css                    */import"./secure-ls.8c8acb46.js";import"./vue-router.907b547c.js";import"./nprogress.c2257662.js";import"./axios.7aed06b8.js";import"./qs.e55e9b28.js";import"./side-channel.ea627785.js";import"./get-intrinsic.8c87d952.js";import"./has-symbols.caae0f97.js";import"./has-proto.76cff6c7.js";import"./function-bind.cb3858f2.js";import"./has.c1051c46.js";import"./call-bind.208b5ef0.js";import"./object-inspect.e2cfb4a5.js";import"./vuex.f308ecec.js";import"./vuex-persistedstate.fa252374.js";import"./vue-grid-layout.a3ef67ec.js";import"./@vueuse.66569c4a.js";import"./@element-plus.8b57b6bd.js";import"./qrcode.f5521435.js";import"./encode-utf8.c8acd0c0.js";import"./dijkstrajs.9287da7c.js";/* empty css                                                          */import"./workers.a8ab8099.js";const U=(e=>(j("data-v-3d6e9e2c"),e=e(),w(),e))((()=>h("span",null,"查看",-1))),z={class:"cell-item"},T={key:1};var M=e({__name:"studentInfo",props:{studentDetailPrarms:{type:Object,default:()=>{}},threeLevelLinkage:{type:Array,default:()=>[]}},emits:["handerStudentMain"],setup(e,{emit:a}){const l=e,j=t();let w=localStorage.getItem("dictionary");w&&(w=JSON.parse(w));const C=i((()=>1===j.state.base.commentJsonKeys.schoolType)),S=o({informations:[{title:"基础信息",key:"basic",children:[{text:"头像",value:"avatar",sapn:3},{text:"姓名",value:"name"},{text:"班级",value:"className"},{text:"学籍号",value:"studentCode"},{text:"学生手机",value:"phone"},{text:"性别",value:"gender",dict:"gender"},{text:"入学日期",value:"admissionDate"},{text:"学籍状态",value:"status",dict:"roll_status"},{text:"学号",value:"studentNo"},{text:"卡号",value:"icCardNo"},{text:"学历",value:"education",show:C,dict:"student_education_status"},{text:"学制",value:"academicSystem",show:C,dict:"student_academic_system_status"},{text:"第二学位",value:"secondDegree",show:C,dict:"student_second_degree_status"}]},{title:"学生扩展信息",key:"student",children:[{text:"住宿方式",value:"accommodation",dict:"accommodation"},{text:"是否独生子女",value:"isChild"},{text:"电子信箱",value:"email"},{text:"证件类型",value:"idType",dict:"id_type"},{text:"证件号码",value:"idCard"},{text:"民族",value:"nation",dict:"nation"},{text:"政治面貌",value:"politicalStatus",dict:"political_status"},{text:"出生日期",value:"birthday"},{text:"出生地",value:"birthPlace"},{text:"国籍",value:"country",dict:"country"},{text:"籍贯",value:"nativePlaces"},{text:"是否流动人口",value:"isFlow"},{text:"户口类别",value:"householdType",dict:"household_type"},{text:"户口所在地",value:"householdAddress"},{text:"血型",value:"bloodType",dict:"blood_type"},{text:"健康状态",value:"healthStatus",dict:"health_status"},{text:"个人疾病情况",value:"personalIllness"},{text:"个人特长",value:"specialty"},{text:"家庭住址",value:"address",sapn:3},{text:"备注",value:"remarks",sapn:3}]}]}),D=o({title:"家长信息",key:"parent",children:[{text:"家长姓名",value:"name"},{text:"家长手机号",value:"phone"},{text:"家庭关系",value:"relations"}]}),P=()=>{a("handerStudentMain",!0)},F=i((()=>e=>{const t=l.studentDetailPrarms,{value:a,dict:n}=e;return t[a]||0===t[a]?n?w[`${n}${t[a]}`]:"isChild"===a||"householdType"===a||"isFlow"===a?t[a]?"是":"否":t[a]:"-"}));return r((()=>l.studentDetailPrarms),(e=>{var t;(null==(t=e.elterns)?void 0:t.length)&&(S.informations=[...S.informations,D],S.informations[2].children=[],e.elterns.forEach((e=>{S.informations[2].children.push({text:"家长姓名",value:e.name},{text:"家长手机号",value:e.phone},{text:"家庭关系",value:w[`relations${e.relations}`]})})))}),{immediate:!0}),(t,a)=>{const l=u("a-layout-header"),i=n,o=s,r=u("a-cascader"),j=d,w=u("a-layout-content"),C=u("a-layout");return c(),m(C,{class:"yd-layout"},{default:p((()=>[v(l,{class:"yd-layout-header"},{default:p((()=>[h("i",{class:"iconfont icon-xingzhuangjiehe19",onClick:P}),U])),_:1}),v(w,{class:"yd-layout-content set-student"},{default:p((()=>[(c(!0),f(x,null,b(S.informations,((t,a)=>(c(),m(j,{key:a,title:t.title,class:y(["yd-descriptions",{parent_style:"parent"===t.key}])},{default:p((()=>[g(" 家长 "),"parent"===t.key?(c(!0),f(x,{key:0},b(t.children,((e,a)=>(c(),m(i,{key:a,label:`${e.text}：`,span:e.sapn},_({default:p((()=>[k(" "+I(e.value||"-"),1)])),_:2},["parent"===t.key?{name:"label",fn:p((()=>[h("div",z,I(e.text)+"：",1)])),key:"0"}:void 0]),1032,["label","span"])))),128)):(c(!0),f(x,{key:1},b(t.children,((t,a)=>(c(),f(x,null,[t.show?g("v-if",!0):(c(),m(i,{key:a,label:`${t.text}：`,span:t.sapn},{default:p((()=>["avatar"===t.value?(c(),m(o,{key:0,class:"yd-faceImg",src:e.studentDetailPrarms[t.value]||"/image/defal_user.png",fit:"fill"},null,8,["src"])):"nativePlaces"===t.value?(c(),f(x,{key:1},[g(" 籍贯 "),e.studentDetailPrarms[t.value]&&e.studentDetailPrarms[t.value].length?(c(),m(r,{key:0,class:"form-select",bordered:!1,disabled:"",value:e.studentDetailPrarms[t.value],"onUpdate:value":a=>e.studentDetailPrarms[t.value]=a,fieldNames:{label:"name",value:"id",children:"area"},options:e.threeLevelLinkage},null,8,["value","onUpdate:value","options"])):(c(),f("span",T,"-"))],64)):(c(),f(x,{key:2},[k(I(F.value(t)),1)],64))])),_:2},1032,["label","span"]))],64)))),256))])),_:2},1032,["title","class"])))),128))])),_:1})])),_:1})}}},[["__scopeId","data-v-3d6e9e2c"],["__file","C:/Users/66406/Desktop/ydproject/cloudSystem3.0/cloud-system-2.0/src/views/classManager/page/myStudent/studentManage/studentInfo.vue"]]);const O={key:0,class:"studentManage"},V={class:"head_operation"},A={class:"btn_list"},$={class:"table_student"},E=(e=>(j("data-v-35433273"),e=e(),w(),e))((()=>h("span",null,I("操作"),-1))),J={key:0},K={key:1},Q=C({name:"studentManage"});var G=e(Object.assign(Q,{emits:["eliminate"],setup(e,{emit:t}){let n=localStorage.getItem("dictionary");n&&(n=JSON.parse(n));const s=o({});let d=S([]);const i=e=>{s.deptID=a.get("director_classId"),s.modalVisible=!0};(async()=>{const{data:e=[]}=await L();d.value=e})();const r=e=>{t("eliminate",!0),w.studentMain=e},y=S(),_=S([{title:"序号",dataIndex:"seq",forbidden:!0,show:!0},{title:"姓名",dataIndex:"name",forbidden:!0,show:!0},{title:"性别",dataIndex:"gender",forbidden:!0,show:!0,customRender:({text:e})=>null===e?"未知":0===e?"男":"女"},{title:"学生手机号",dataIndex:"phone"},{title:"入学日期",dataIndex:"admissionDate"},{title:"学籍号",dataIndex:"studentCode",forbidden:!0,show:!0},{title:"学号",dataIndex:"studentNo"},{title:"卡号",dataIndex:"icCardNo",forbidden:!0,show:!0},{title:"学籍状态",dataIndex:"status",forbidden:!0,show:!0,customRender:({text:e,record:t,index:a,column:l})=>{if(null===e)return"";return n.roll_status.find((t=>t.value==e)).label}},{title:"家长信息",dataIndex:"parents",forbidden:!0,show:!0,customRender:({text:e})=>{if(null==e&&0===e.length)return"";return e.map((e=>e.name)).join(",")}},{title:"住宿方式",dataIndex:"accommodation",customRender:({text:e,record:t,index:a,column:l})=>{if(null===e)return"";return n.accommodation.find((t=>t.value==e)).label}},{title:"是否独生子女",dataIndex:"isChild",customRender:({text:e})=>null===e?"":0===e?"否":"是"},{title:"电子邮箱",dataIndex:"电子邮箱"},{title:"证件类型",dataIndex:"idType",customRender:({text:e,record:t,index:a,column:l})=>{if(null===e)return"";return n.id_type.find((t=>t.value==e)).label}},{title:"证件号码",dataIndex:"idCard"},{title:"民族",dataIndex:"nation",customRender:({text:e,record:t,index:a,column:l})=>{if(null===e)return"";return n.nation.find((t=>t.value==e)).label}},{title:"政治面貌",dataIndex:"politicalStatus",customRender:({text:e,record:t,index:a,column:l})=>{if(null===e)return"";return n.political_status.find((t=>t.value==e)).label}},{title:"出生日期",dataIndex:"birthday"},{title:"出生地",dataIndex:"birthPlace"},{title:"国籍",dataIndex:"country",customRender:({text:e,record:t,index:a,column:l})=>{if(null===e)return"";return n.country.find((t=>t.value==e)).label}},{title:"籍贯",dataIndex:"nativePlace"},{title:"是否流动人口",dataIndex:"isFlow",customRender:({text:e,record:t,index:a,column:l})=>null===e?"":1===e?"是":"否"},{title:"户口类型",dataIndex:"householdType",customRender:({text:e,record:t,index:a,column:l})=>{if(null===e)return"";return n.household_type.find((t=>t.value==e)).label}},{title:"户口所在地",dataIndex:"householdAddress"},{title:"血型",dataIndex:"bloodType",customRender:({text:e,record:t,index:a,column:l})=>{if(null===e)return"";return n.blood_type.find((t=>t.value==e)).label}},{title:"健康状态",dataIndex:"healthStatus",customRender:({text:e,record:t,index:a,column:l})=>{if(null===e)return"";return n.health_status.find((t=>t.value==e)).label}},{title:"个人疾病情况",dataIndex:"personalIllness"},{title:"特长",dataIndex:"specialty"},{title:"家庭住址",dataIndex:"address"},{title:"备注",dataIndex:"remarks"},{title:"操作",dataIndex:"operate",forbidden:!0,align:"center",show:!0}]),j=S({current:1,pageSize:10,total:0,hideOnSinglePage:!0,showLessItems:!0,showQuickJumper:!0,showSizeChanger:!0,pageSizeOptions:["10","20","30","40"],showTotal:e=>`共 ${e}  条`}),w=o({studentMain:!0,checkAll:!1,transferVisible:!1,studentList:[],inquireForm:{gender:""},pagination:{total:0,current:1,pageSize:10,hideOnSinglePage:!0,showLessItems:!0,showQuickJumper:!0,showSizeChanger:!0,pageSizeOptions:["10","20","30","40"],showTotal:e=>`共 ${e}  条`}}),C=async()=>{const{data:e}=await l({...w.inquireForm,pageNo:j.value.current,pageSize:j.value.pageSize,classesId:a.get("director_classId")||""});w.studentList=e.list,j.value.total=e.total},U=e=>{var a;t("eliminate",!1),w.studentDetail={},w.studentTitle="查看学生",w.studentDetailsId=e.id,w.componentName=M,!(a=e.id)&&(a=w.studentDetailsId),R({id:a}).then((e=>{const{data:t}=e;w.studentDetail=t})),w.studentMain=!1},z=()=>{C()},T=()=>{j.value.current=1,j.value.pageSize=10,y.value.resetFields(),C()},Q=({current:e,pageSize:t})=>{j.value.current=e,j.value.pageSize=t,C()},G=()=>{0===w.checkedList.length&&(w.columns=_.value.filter((e=>e.forbidden))),_.value.forEach((e=>{w.checkedList.forEach((t=>{e.dataIndex===t.dataIndex?(e.show=!0,e.old=!0):e.forbidden||e.old||(e.show=!1)}))})),_.value.forEach((e=>{e.old=!1})),w.transferVisible=!1},H=()=>{w.transferVisible=!0,w.checkedList=w.columns};D((()=>{w.columns=_.value.filter((e=>e.show))}));const B=e=>{w.checkAll?w.checkedList=_.value.filter((e=>!e.forbidden)):w.checkedList=[]};return P((()=>{C()})),(e,t)=>{const a=u("a-input"),l=u("a-form-item"),n=u("a-select-option"),o=u("a-select"),C=u("SearchOutlined"),S=u("a-button"),D=u("redo-outlined"),P=u("a-form"),L=u("a-cascader"),R=u("a-table"),M=u("a-checkbox"),W=u("a-col"),X=u("a-row"),Y=u("a-checkbox-group"),Z=u("a-modal");return c(),f(x,null,[F(w).studentMain?(c(),f("div",O,[h("div",V,[v(P,{layout:"inline",model:F(w).inquireForm,ref_key:"inquireFormRef",ref:y},{default:p((()=>[v(l,{label:"姓名",name:"name"},{default:p((()=>[v(a,{style:{width:"240px"},value:F(w).inquireForm.name,"onUpdate:value":t[0]||(t[0]=e=>F(w).inquireForm.name=e),placeholder:"请输入"},null,8,["value"])])),_:1}),v(l,{label:"学籍号",name:"studentCode"},{default:p((()=>[v(a,{style:{width:"240px"},value:F(w).inquireForm.studentCode,"onUpdate:value":t[1]||(t[1]=e=>F(w).inquireForm.studentCode=e),placeholder:"请输入"},null,8,["value"])])),_:1}),v(l,{label:"卡号",name:"icCardNo"},{default:p((()=>[v(a,{style:{width:"240px"},value:F(w).inquireForm.icCardNo,"onUpdate:value":t[2]||(t[2]=e=>F(w).inquireForm.icCardNo=e),placeholder:"请输入"},null,8,["value"])])),_:1}),v(l,{label:"性别",name:"gender"},{default:p((()=>[v(o,{value:F(w).inquireForm.gender,"onUpdate:value":t[3]||(t[3]=e=>F(w).inquireForm.gender=e),style:{width:"240px"}},{default:p((()=>[v(n,{value:""},{default:p((()=>[k("全部")])),_:1}),v(n,{value:"0"},{default:p((()=>[k("男")])),_:1}),v(n,{value:"1"},{default:p((()=>[k("女")])),_:1})])),_:1},8,["value"])])),_:1}),v(l,null,{default:p((()=>[v(S,{type:"primary",onClick:z},{icon:p((()=>[v(C,{style:{"margin-right":"6px"}})])),default:p((()=>[k(" 查询 ")])),_:1}),v(S,{style:{"margin-left":"10px"},onClick:T},{icon:p((()=>[v(D,{style:{"margin-right":"6px"}})])),default:p((()=>[k(" 重置 ")])),_:1})])),_:1})])),_:1},8,["model"])]),h("div",A,[v(S,{onClick:i},{default:p((()=>[k("邀请学生")])),_:1}),g(" <a-button disabled>添加学生</a-button>\r\n            <a-button disabled>快捷操作</a-button>\r\n            <a-button disabled>导入导出</a-button>\r\n            <a-button disabled>删除</a-button> ")]),h("div",$,[v(R,{columns:F(w).columns,"data-source":F(w).studentList,pagination:F(j),onChange:Q,scroll:{x:1200}},{headerCell:p((({column:e,record:t,text:a,index:l})=>["operate"===e.dataIndex?(c(),f(x,{key:0},[E,h("i",{onClick:H,class:"iconfont pathColor icon-xingzhuangjiehe110"})],64)):g("v-if",!0)])),bodyCell:p((({column:e,record:t,text:a,index:l})=>["seq"===e.dataIndex?(c(),f("span",J,I(l+1),1)):g("v-if",!0),"nativePlace"===e.dataIndex?(c(),f(x,{key:1},[t.nativePlace?(c(),m(L,{key:0,class:"form-select",bordered:!1,disabled:"",value:t.nativePlace,"onUpdate:value":e=>t.nativePlace=e,fieldNames:{label:"name",value:"id",children:"area"},options:F(d)},null,8,["value","onUpdate:value","options"])):(c(),f("span",K,"-"))],64)):g("v-if",!0),"operate"===e.dataIndex?(c(),f(x,{key:2},[g(' <a-button type="text" disabled>编辑</a-button> '),v(S,{onClick:e=>U(t),class:"btn_look",type:"text"},{default:p((()=>[k("查看")])),_:2},1032,["onClick"])],64)):g("v-if",!0)])),_:1},8,["columns","data-source","pagination"])])])):(c(),m(q(F(w).componentName),{key:1,ref:"studentFormRef",studentTitle:F(w).studentTitle,isCheck:F(w).isCheck,studentDetailPrarms:F(w).studentDetail,onHanderStudentMain:r},null,40,["studentTitle","isCheck","studentDetailPrarms"])),v(Z,{visible:F(w).transferVisible,"onUpdate:visible":t[6]||(t[6]=e=>F(w).transferVisible=e),title:"选择列表中要展示的信息",onOk:G},{default:p((()=>[g(' :indeterminate="state.indeterminate" '),v(M,{class:"checkAll",checked:F(w).checkAll,"onUpdate:checked":t[4]||(t[4]=e=>F(w).checkAll=e),onChange:B},{default:p((()=>[k(I(F(w).checkAll?"全不选":"全选"),1)])),_:1},8,["checked"]),v(Y,{value:F(w).checkedList,"onUpdate:value":t[5]||(t[5]=e=>F(w).checkedList=e),style:{width:"100%"},onChange:e.handerChange},{default:p((()=>[v(X,{gutter:[16,16]},{default:p((()=>[(c(!0),f(x,null,b(F(_).filter((e=>!e.forbidden)),(e=>(c(),m(W,{key:e.dataIndex,span:8},{default:p((()=>[v(M,{value:e},{default:p((()=>[k(I(e.title),1)])),_:2},1032,["value"])])),_:2},1024)))),128))])),_:1})])),_:1},8,["value","onChange"])])),_:1},8,["visible"]),v(F(N),{modalVisible:F(s).modalVisible,"onUpdate:modalVisible":t[7]||(t[7]=e=>F(s).modalVisible=e),deptId:F(s).deptID,getUrl:"classesId"},null,8,["modalVisible","deptId"])],64)}}}),[["__scopeId","data-v-35433273"],["__file","C:/Users/66406/Desktop/ydproject/cloudSystem3.0/cloud-system-2.0/src/views/classManager/page/myStudent/studentManage/index.vue"]]);export{G as default};

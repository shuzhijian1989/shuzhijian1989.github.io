import"./vue.a2f518ee.js";import{u as t,a}from"./vue-router.907b547c.js";import{_ as e}from"./index.7061e8ea.js";import{bz as s,q as c,R as n,w as i,f as o,y as l,b8 as r,o as u,a as p,c as d,aK as b,a3 as y,W as f,b as h,a9 as v,F as m,a8 as x,a2 as k,a1 as g,b5 as K,b4 as _}from"./@vue.919ff404.js";const L=(t=>(K("data-v-d3ddcb4c"),t=t(),_(),t))((()=>h("i",{class:"iconfont icon-xingzhuangjiehe19"},null,-1)));var j=e({__name:"index",props:{backRout:{type:String,default:""},activeKey:{type:String,default:""},showBack:{type:Boolean,default:!1},leftExtraText:{type:String,default:"返回"},tabsList:{type:Array,default:()=>[]}},setup(e){const K=e;s((t=>({"d3ddcb4c-showBackStyle":B.value})));const _=c({activeKey:n(K.activeKey),tabsList:[],systemTabsObj:{}}),j=t(),w=a(),R=()=>{K.backRout?j.push({name:K.backRout}):j.back(-1)},E=t=>{j.replace({path:t,query:{...w.query}}),_.activeKey=t},q=()=>{var t;_.tabsList=[];const a=w.path,e=a.lastIndexOf("/"),s=a.substring(0,e);let c=(null==(t=j.getRoutes().filter((t=>t.path===s))[0])?void 0:t.children)||[];if(K.tabsList.length&&c.length){const t=[];K.tabsList.forEach((a=>{c.forEach((e=>{if(e.path.includes(a.key)||e.path.includes(a.path)||e.name.includes(a.path)){const s=a.meta.title?a.meta:e.meta;t.push({...a,...e,meta:s})}}))})),c=t}_.tabsList=c};i((()=>K.tabsList),(t=>{t.length&&q()})),o((async()=>{await q(),j.push({path:w.path,query:{...w.query}}),_.activeKey=w.path}));const B=l((()=>K.showBack?"0px":"24px"));return(t,a)=>{const s=r("a-button"),c=r("a-tab-pane"),n=r("a-tabs"),i=r("router-view");return u(),p(m,null,[d(n,g({activeKey:_.activeKey,"onUpdate:activeKey":a[0]||(a[0]=t=>_.activeKey=t),onChange:E},t.$attrs),b({default:y((()=>[(u(!0),p(m,null,x(_.tabsList,(t=>{var a;return u(),k(c,{key:t.path,tab:t.title||(null==(a=t.meta)?void 0:a.title)},null,8,["tab"])})),128))])),_:2},[K.showBack?{name:"leftExtra",fn:y((()=>[f(t.$slots,"leftExtra",{},(()=>[d(s,{type:"text",class:"tabs_back",onClick:R},{default:y((()=>[L,h("span",null,v(e.leftExtraText),1)])),_:1})]),!0)])),key:"0"}:void 0]),1040,["activeKey"]),d(i)],64)}}},[["__scopeId","data-v-d3ddcb4c"],["__file","C:/Users/66406/Desktop/ydproject/cloudSystem3.0/cloud-system-2.0/src/components/RouterTabs/index.vue"]]);export{j as R};
